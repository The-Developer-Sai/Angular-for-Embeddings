<div class="container">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <h2>Welcome to the BERT Embedding App</h2>
    <p>Please upload a file and select a model to begin.</p>
  </div>

  <!-- File upload form -->
  <form (ngSubmit)="onSubmit($event)" enctype="multipart/form-data">
    <!-- Step 1: File Upload -->
    <div class="form-group">
      <label for="file-upload">Upload a File</label>
      <input type="file" (change)="onFileSelected($event)" required />
    </div>

    <!-- Step 2: Model Selection -->
    <div class="form-group">
      <label for="model_choice">Choose a Model</label>
      <select [(ngModel)]="selectedModel" name="model_choice" required>
        <option value="" disabled>Select Model</option>
        <option value="BERT Base Uncased">BERT Base Uncased</option>
        <option value="BERT Large Uncased">BERT Large Uncased</option>
        <option value="BERT Multilingual">BERT Multilingual</option>
      </select>
    </div>

    <!-- Submit Button -->
    <div class="form-group">
      <button type="submit">Upload and Process</button>
    </div>
  </form>

  <!-- Loading Spinner -->
  <div *ngIf="loading" class="loading-spinner">
    <p>Loading, please wait...</p>
    <div class="spinner"></div>
  </div>

  <!-- Display Results -->
  <div *ngIf="!loading && results" class="results-container">
    <h3>Results</h3>
    <p><strong>Selected Model:</strong> {{ results.selected_model_name }}</p>
    <p><strong>Time Taken:</strong> {{ results.time }} seconds</p>
    <p><strong>Vector Quality:</strong> {{ results.vector_quality }}</p>
    <p><strong>Retrieval Accuracy:</strong> {{ results.retrieval_accuracy }}</p>
    <p><strong>Recommendation:</strong> {{ results.recommendation }}</p>

    <!-- Embeddings Display -->
    <h4>Embeddings</h4>
    <div class="embeddings-box">
      <pre>{{ results.embeddings | json }}</pre>
    </div>
  </div>
</div>

<!-- Styles for formatting -->
<style>
  .embeddings-box {
    max-height: 300px;
    overflow-y: scroll;
    padding: 10px;
    border: 1px solid #ccc;
    background-color: #f9f9f9;
    white-space: pre-wrap;
  }

  pre {
    word-wrap: break-word;
  }
</style>
